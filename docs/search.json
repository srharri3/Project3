[
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "",
    "section": "",
    "text": "EDA\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(ggplot2)\n\nThe data set used in this project is called the “Diabetes Health Indicators Dataset”. Diabetes is a large problem in America; as of 2018 34.2 million Americans have diabetes and 88 million have prediabetes. The original data set from the Behavioral Risk Factor Surveillance System (BRFSS) contains responses from 441,455 and has 330 features.\nThis project looks at a few variables in particular: Smoker: Have you smoked at least 100 cigarettes in your entire life (YES OR NO) PhysActivity: Physical activity in the last 30 days (YES OR NO) Education: Education level Age: Age category of subject Sex: Male or Female HeartDiseaseorAttack: Coronary heart disease (CHD) or myocardial infarction (MI) (YES OR NO) HighBP: No high BP or high BP BMI: BMI of subject\nThe goal of Exploratory Data Analysis (EDA) is to analyze and investigate data sets to understand and summarize the data before applying them to models. This helps validate results from models and other applications.\nEDA Process: Understand how data is stored Data validation Determine rate of missing values Clean data up Investigate distributions Apply transformations\n\ndiabetes &lt;- read.csv(\"diabetes_binary_health_indicators_BRFSS2015.csv\")\n\nCleaning the data and turning the variables into factors.\n\ndiabetes$Diabetes_binary &lt;- factor(diabetes$Diabetes_binary, levels = c(0, 1, 2), labels = c(\"No diabetes\", \"prediabetes\", \"diabetes\"))\ndiabetes$HighBP &lt;- factor(diabetes$HighBP, levels = c(0, 1), labels = c(\"No high BP\", \"High BP\"))\ndiabetes$HighChol &lt;- factor(diabetes$HighChol, levels = c(0, 1), labels = c(\"No high cholesterol\", \"High cholesterol\"))\ndiabetes$CholCheck &lt;- factor(diabetes$CholCheck, levels = c(0, 1), labels = c(\"No chol check in 5 years\", \"Yes chol check in 5 years\"))\ndiabetes$Smoker &lt;- factor(diabetes$Smoker, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$Stroke &lt;- factor(diabetes$Stroke, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$HeartDiseaseorAttack &lt;- factor(diabetes$HeartDiseaseorAttack, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$PhysActivity &lt;- factor(diabetes$PhysActivity, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$Fruits &lt;- factor(diabetes$Fruits, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$Veggies &lt;- factor(diabetes$Veggies, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$HvyAlcoholConsump &lt;- factor(diabetes$HvyAlcoholConsump, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$AnyHealthcare &lt;- factor(diabetes$AnyHealthcare, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$NoDocbcCost &lt;- factor(diabetes$NoDocbcCost, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$GenHlth &lt;- factor(diabetes$GenHlth, levels = c(1,2,3,4,5), labels = c(\"Excellent\", \"Very good\", \"Good\", \"Fair\", \"Poor\"))\ndiabetes$DiffWalk &lt;- factor(diabetes$DiffWalk, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\ndiabetes$Sex &lt;- factor(diabetes$Sex, levels = c(0, 1), labels = c(\"Female\", \"Male\"))\ndiabetes$Age &lt;- factor(diabetes$Age, levels = c(1,2,3,4,5,6,7,8,9,10,11,12,13), labels = c(\"Age 18 to 24\",\"Age 25 to 29\",\"Age 30 to 34\",\"Age 35 to 39\",\"Age 40 to 44\",\"Age 45 to 49\",\"Age 50 to 54\",\"Age 55 to 59\",\"Age 60 to 64\",\"Age 65 to 69\",\"Age 70 to 74\",\"Age 75 to 79\",\"Age 80 or older\"))\ndiabetes$Education &lt;- factor(diabetes$Education, levels = c(1,2,3,4,5,6,9), labels = c(\"Never attended school or only kindergarten\",\"Grades 1 through 8 (Elementary)\", \"Grades 9 through 11 (Some high school)\", \"Grade 12 or GED (High school graduate)\", \"College 1 year to 3 years (Some college or technical school)\", \"College 4 years or more (College graduate)\", \"Refused\"))\ndiabetes$Income &lt;- factor(diabetes$Income, levels = c(1,2,3,4,5,6,7,8,77,99), labels = c(\"Less than $10,000\", \"Less than $15,000 ($10,000 to less than $15,000)\", \"Less than $20,000 ($15,000 to less than $20,000)\", \"Less than $25,000 ($20,000 to less than $25,000)\", \"Less than $35,000 ($25,000 to less than $35,000)\", \"Less than $50,000 ($35,000 to less than $50,000)\", \"Less than $75,000 ($50,000 to less than $75,000)\", \"$75,000 or more\", \"Don’t know/Not sure\", \"Refused\"))\ndiabetes$BMI &lt;- format(diabetes$BMI, nsmall = 1)\ndiabetes$MentHlth &lt;- format(diabetes$MentHlth, nsmall = 1)\ndiabetes$PhysHlth &lt;- format(diabetes$PhysHlth, nsmall = 1)\ndiabetes$BMI &lt;- as.double(diabetes$BMI)\n\nChecking for missing values in the data.\n\ncolSums(is.na(diabetes))\n\n     Diabetes_binary               HighBP             HighChol \n                   0                    0                    0 \n           CholCheck                  BMI               Smoker \n                   0                    0                    0 \n              Stroke HeartDiseaseorAttack         PhysActivity \n                   0                    0                    0 \n              Fruits              Veggies    HvyAlcoholConsump \n                   0                    0                    0 \n       AnyHealthcare          NoDocbcCost              GenHlth \n                   0                    0                    0 \n            MentHlth             PhysHlth             DiffWalk \n                   0                    0                    0 \n                 Sex                  Age            Education \n                   0                    0                    0 \n              Income \n                   0 \n\n\nLooking at the structure of the data.\n\nstr(diabetes)\n\n'data.frame':   253680 obs. of  22 variables:\n $ Diabetes_binary     : Factor w/ 3 levels \"No diabetes\",..: 1 1 1 1 1 1 1 1 2 1 ...\n $ HighBP              : Factor w/ 2 levels \"No high BP\",\"High BP\": 2 1 2 2 2 2 2 2 2 1 ...\n $ HighChol            : Factor w/ 2 levels \"No high cholesterol\",..: 2 1 2 1 2 2 1 2 2 1 ...\n $ CholCheck           : Factor w/ 2 levels \"No chol check in 5 years\",..: 2 1 2 2 2 2 2 2 2 2 ...\n $ BMI                 : num  40 25 28 27 24 25 30 25 30 24 ...\n $ Smoker              : Factor w/ 2 levels \"No\",\"Yes\": 2 2 1 1 1 2 2 2 2 1 ...\n $ Stroke              : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 1 1 ...\n $ HeartDiseaseorAttack: Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 2 1 ...\n $ PhysActivity        : Factor w/ 2 levels \"No\",\"Yes\": 1 2 1 2 2 2 1 2 1 1 ...\n $ Fruits              : Factor w/ 2 levels \"No\",\"Yes\": 1 1 2 2 2 2 1 1 2 1 ...\n $ Veggies             : Factor w/ 2 levels \"No\",\"Yes\": 2 1 1 2 2 2 1 2 2 2 ...\n $ HvyAlcoholConsump   : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 1 1 ...\n $ AnyHealthcare       : Factor w/ 2 levels \"No\",\"Yes\": 2 1 2 2 2 2 2 2 2 2 ...\n $ NoDocbcCost         : Factor w/ 2 levels \"No\",\"Yes\": 1 2 2 1 1 1 1 1 1 1 ...\n $ GenHlth             : Factor w/ 5 levels \"Excellent\",\"Very good\",..: 5 3 5 2 2 2 3 3 5 2 ...\n $ MentHlth            : chr  \"18.0\" \" 0.0\" \"30.0\" \" 0.0\" ...\n $ PhysHlth            : chr  \"15.0\" \" 0.0\" \"30.0\" \" 0.0\" ...\n $ DiffWalk            : Factor w/ 2 levels \"No\",\"Yes\": 2 1 2 1 1 1 1 2 2 1 ...\n $ Sex                 : Factor w/ 2 levels \"Female\",\"Male\": 1 1 1 1 1 2 1 1 1 2 ...\n $ Age                 : Factor w/ 13 levels \"Age 18 to 24\",..: 9 7 9 11 11 10 9 11 9 8 ...\n $ Education           : Factor w/ 7 levels \"Never attended school or only kindergarten\",..: 4 6 4 3 5 6 6 4 5 4 ...\n $ Income              : Factor w/ 10 levels \"Less than $10,000\",..: 3 1 8 6 4 8 7 4 1 3 ...\n\n\nSummarizing the data set.\n\nsummary(diabetes)\n\n    Diabetes_binary          HighBP                      HighChol     \n No diabetes:218334   No high BP:144851   No high cholesterol:146089  \n prediabetes: 35346   High BP   :108829   High cholesterol   :107591  \n diabetes   :     0                                                   \n                                                                      \n                                                                      \n                                                                      \n                                                                      \n                     CholCheck           BMI        Smoker       Stroke      \n No chol check in 5 years :  9470   Min.   :12.00   No :141257   No :243388  \n Yes chol check in 5 years:244210   1st Qu.:24.00   Yes:112423   Yes: 10292  \n                                    Median :27.00                            \n                                    Mean   :28.38                            \n                                    3rd Qu.:31.00                            \n                                    Max.   :98.00                            \n                                                                             \n HeartDiseaseorAttack PhysActivity Fruits       Veggies      HvyAlcoholConsump\n No :229787           No : 61760   No : 92782   No : 47839   No :239424       \n Yes: 23893           Yes:191920   Yes:160898   Yes:205841   Yes: 14256       \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n AnyHealthcare NoDocbcCost       GenHlth        MentHlth        \n No : 12417    No :232326   Excellent:45299   Length:253680     \n Yes:241263    Yes: 21354   Very good:89084   Class :character  \n                            Good     :75646   Mode  :character  \n                            Fair     :31570                     \n                            Poor     :12081                     \n                                                                \n                                                                \n   PhysHlth         DiffWalk         Sex                   Age       \n Length:253680      No :211005   Female:141974   Age 60 to 64:33244  \n Class :character   Yes: 42675   Male  :111706   Age 65 to 69:32194  \n Mode  :character                                Age 55 to 59:30832  \n                                                 Age 50 to 54:26314  \n                                                 Age 70 to 74:23533  \n                                                 Age 45 to 49:19819  \n                                                 (Other)     :87744  \n                                                        Education     \n Never attended school or only kindergarten                  :   174  \n Grades 1 through 8 (Elementary)                             :  4043  \n Grades 9 through 11 (Some high school)                      :  9478  \n Grade 12 or GED (High school graduate)                      : 62750  \n College 1 year to 3 years (Some college or technical school): 69910  \n College 4 years or more (College graduate)                  :107325  \n Refused                                                     :     0  \n                                              Income     \n $75,000 or more                                 :90385  \n Less than $75,000 ($50,000 to less than $75,000):43219  \n Less than $50,000 ($35,000 to less than $50,000):36470  \n Less than $35,000 ($25,000 to less than $35,000):25883  \n Less than $25,000 ($20,000 to less than $25,000):20135  \n Less than $20,000 ($15,000 to less than $20,000):15994  \n (Other)                                         :21594  \n\n\nCreating contingency tables.\n\nsmoker_table &lt;- table(diabetes$Smoker, diabetes$HeartDiseaseorAttack)\nrownames(smoker_table) &lt;- c(\"Not smoked 100 cigarettes\", \"Smoked 100 cigarettes\")\ncolnames(smoker_table) &lt;- c(\"No CHS/MI\", \"Yes CHS/MI\")\nsmoker_table_margins &lt;- addmargins(smoker_table)\nsmoker_table_margins\n\n                           \n                            No CHS/MI Yes CHS/MI    Sum\n  Not smoked 100 cigarettes    132165       9092 141257\n  Smoked 100 cigarettes         97622      14801 112423\n  Sum                          229787      23893 253680\n\n\n\ntable2 &lt;- table(diabetes$Age, diabetes$PhysActivity, diabetes$HighBP)\ncolnames(table2) &lt;- c(\"No Phys Activity in last 30 days\", \"Physical activity in last 30 days\")\ntable2\n\n, ,  = No high BP\n\n                 \n                  No Phys Activity in last 30 days\n  Age 18 to 24                                 686\n  Age 25 to 29                                1015\n  Age 30 to 34                                1580\n  Age 35 to 39                                2063\n  Age 40 to 44                                2319\n  Age 45 to 49                                2715\n  Age 50 to 54                                3452\n  Age 55 to 59                                3587\n  Age 60 to 64                                3351\n  Age 65 to 69                                2727\n  Age 70 to 74                                1830\n  Age 75 to 79                                1357\n  Age 80 or older                             1833\n                 \n                  Physical activity in last 30 days\n  Age 18 to 24                                 4522\n  Age 25 to 29                                 5702\n  Age 30 to 34                                 7907\n  Age 35 to 39                                 9191\n  Age 40 to 44                                10097\n  Age 45 to 49                                11369\n  Age 50 to 54                                13403\n  Age 55 to 59                                13996\n  Age 60 to 64                                13375\n  Age 65 to 69                                11215\n  Age 70 to 74                                 7126\n  Age 75 to 79                                 4191\n  Age 80 or older                              4242\n\n, ,  = High BP\n\n                 \n                  No Phys Activity in last 30 days\n  Age 18 to 24                                  63\n  Age 25 to 29                                 170\n  Age 30 to 34                                 372\n  Age 35 to 39                                 696\n  Age 40 to 44                                1066\n  Age 45 to 49                                1736\n  Age 50 to 54                                2928\n  Age 55 to 59                                4120\n  Age 60 to 64                                5006\n  Age 65 to 69                                5229\n  Age 70 to 74                                4437\n  Age 75 to 79                                3442\n  Age 80 or older                             3980\n                 \n                  Physical activity in last 30 days\n  Age 18 to 24                                  429\n  Age 25 to 29                                  711\n  Age 30 to 34                                 1264\n  Age 35 to 39                                 1873\n  Age 40 to 44                                 2675\n  Age 45 to 49                                 3999\n  Age 50 to 54                                 6531\n  Age 55 to 59                                 9129\n  Age 60 to 64                                11512\n  Age 65 to 69                                13023\n  Age 70 to 74                                10140\n  Age 75 to 79                                 6990\n  Age 80 or older                              7308\n\n\n\ntypeof(diabetes$BMI)\n\n[1] \"double\"\n\n\n\ndiabetes |&gt;\n   summarize(mean_bmi = mean(BMI),\n            median_bmi = median(BMI))\n\n  mean_bmi median_bmi\n1 28.38236         27\n\n\nClick here for the Modeling Page"
  },
  {
    "objectID": "Modeling.html",
    "href": "Modeling.html",
    "title": "",
    "section": "",
    "text": "library(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.2.0 ──\n\n\n✔ broom        1.0.6     ✔ recipes      1.1.0\n✔ dials        1.3.0     ✔ rsample      1.2.1\n✔ dplyr        1.1.4     ✔ tibble       3.2.1\n✔ ggplot2      3.5.1     ✔ tidyr        1.3.1\n✔ infer        1.0.7     ✔ tune         1.2.1\n✔ modeldata    1.4.0     ✔ workflows    1.1.4\n✔ parsnip      1.2.1     ✔ workflowsets 1.1.0\n✔ purrr        1.0.2     ✔ yardstick    1.3.1\n\n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ purrr::discard() masks scales::discard()\n✖ dplyr::filter()  masks stats::filter()\n✖ dplyr::lag()     masks stats::lag()\n✖ recipes::step()  masks stats::step()\n• Learn how to get started at https://www.tidymodels.org/start/\n\nlibrary(randomForest)\n\nrandomForest 4.7-1.2\n\n\nType rfNews() to see new features/changes/bug fixes.\n\n\n\nAttaching package: 'randomForest'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    margin\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n\n\n#set.seed(123)\n\n#train_indices &lt;- sample(1:nrow(diabetes), size = 0.7 * nrow(diabetes))\n#train_set &lt;- diabetes[train_indices, ]\n#test_set &lt;- diabetes[-train_indices, ]\n\n#dim(train_set)\n#dim(test_set) \n\n#train_set$Diabetes_binary &lt;- as.factor(train_set$Diabetes_binary)\n#test_set$Diabetes_binary &lt;- as.factor(test_set$Diabetes_binary)\n\n\n#cv_folds &lt;- vfold_cv(train_set, v = 5)\n\nClassification Trees: A classification tree is a type of decision tree model that is used for categorical variables. The data set is split into subsets to predict outcomes and assign variables to classes.\nRandom Forest: Random Forest models are helpful because they aggregate the predictions of multiple decision trees. This allows for more generalization and less variance in the modeling. Instead of just looking at one subset, it gives a better overall picture of the data."
  }
]